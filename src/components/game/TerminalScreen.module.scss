@use "../../styles/functions" as *;

/* TerminalScreen - DOS-style full game screen content viewer */

/* Dark CRT background matching WelcomeScreen palette */
.screen {
  position: relative;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #0a0f14 0%, #0d1520 50%, #0a0f14 100%);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: screen-fade-in 0.3s ease-out;

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at center,
      transparent 30%,
      rgb(0 0 0 / 40%) 100%
    );
    pointer-events: none;
    z-index: 1;
  }
}

@keyframes screen-fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* CRT scanline overlay */
.scanlines {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent 0,
    transparent to-rem(2px),
    rgb(0 0 0 / 15%) to-rem(2px),
    rgb(0 0 0 / 15%) to-rem(4px)
  );
  pointer-events: none;
  z-index: 2;
  animation: scanline-scroll 8s linear infinite;
}

@keyframes scanline-scroll {
  0% {
    transform: translateY(0);
  }

  100% {
    transform: translateY(to-rem(4px));
  }
}

/* Main content area */
.body {
  position: relative;
  z-index: 3;
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: to-rem(32px) to-rem(48px);
  min-height: 0;
}

/* Boot sequence line */
.bootLine {
  font-family: var(--font-terminal);
  font-size: to-rem(22px);
  line-height: 1.4;
  color: var(--terminal-text-cyan);
  margin-block-end: to-rem(8px);
  white-space: pre;

  .bootFilename {
    color: var(--terminal-text-amber);
  }

  .bootOk {
    color: var(--terminal-text);
  }
}

/* Separator dashed line */
.separator {
  border: none;
  border-block-start: to-rem(1px) dashed var(--terminal-text-dim);
  margin-block: to-rem(12px);
  opacity: 0.6;
}

/* Section title */
.title {
  font-family: var(--font-heading);
  font-size: to-rem(20px);
  color: #e0e8f0;
  text-transform: uppercase;
  letter-spacing: to-rem(2px);
  margin: 0;
  margin-block-end: to-rem(16px);
  text-shadow: 0 0 to-rem(8px) rgb(224 232 240 / 20%);
}

/* Scrollable content area */
.contentArea {
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* Pre-formatted content text */
.content {
  font-family: var(--font-terminal);
  font-size: to-rem(20px);
  line-height: 1.5;
  color: var(--terminal-text-cyan);
  white-space: pre-wrap;
  overflow-wrap: break-word;
  margin: 0;
}

/* Footer area with nav hints and pagination */
.footer {
  position: relative;
  z-index: 3;
  padding: to-rem(12px) to-rem(48px);
  display: flex;
  flex-direction: column;
  gap: to-rem(8px);
}

/* Pagination indicator */
.pagination {
  text-align: center;
  font-family: var(--font-heading);
  font-size: to-rem(12px);
  color: #a0b0c0;
  letter-spacing: to-rem(2px);
}

/* Navigation hints row */
.navHints {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Group for prev/next buttons */
.navHintsRight {
  display: flex;
  gap: to-rem(12px);
  align-items: center;
}

/* Clickable navigation hint buttons (same aesthetic as WelcomeScreen .prompt) */
.navHintButton {
  font-family: var(--font-heading);
  font-size: to-rem(11px);
  color: #a0b0c0;
  letter-spacing: to-rem(1px);
  text-transform: uppercase;
  background: transparent;
  border: to-rem(2px) solid transparent;
  padding: to-rem(6px) to-rem(12px);
  cursor: pointer;
  text-shadow: 0 0 to-rem(8px) rgb(160 176 192 / 20%);
  transition:
    border-color 0.2s ease,
    background 0.2s ease,
    text-shadow 0.2s ease,
    color 0.2s ease;

  &:hover {
    color: #00d4aa;
    border-color: #00d4aa;
    background: rgb(0 212 170 / 10%);
    text-shadow:
      0 0 to-rem(10px) rgb(0 212 170 / 50%),
      0 0 to-rem(20px) rgb(0 212 170 / 30%);
  }

  &:focus-visible {
    outline: none;
    color: #00d4aa;
    border-color: #00d4aa;
    box-shadow: 0 0 to-rem(10px) rgb(0 212 170 / 30%);
    text-shadow:
      0 0 to-rem(10px) rgb(0 212 170 / 50%),
      0 0 to-rem(20px) rgb(0 212 170 / 30%);
  }

  &:disabled {
    color: #4a5568;
    cursor: default;
    border-color: transparent;
    background: transparent;
    text-shadow: none;
  }
}

/* Blinking cursor after boot text */
.cursor {
  display: inline-block;
  width: to-rem(10px);
  height: to-rem(18px);
  background: var(--terminal-text-cyan);
  vertical-align: middle;
  margin-inline-start: to-rem(2px);
  animation: cursor-blink 1s step-end infinite;
}

@keyframes cursor-blink {
  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

/* Content fade-in after boot sequence completes */
.contentVisible {
  animation: content-appear 0.3s ease-out;
}

@keyframes content-appear {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* Hidden state for content during boot */
.contentHidden {
  opacity: 0;
}
